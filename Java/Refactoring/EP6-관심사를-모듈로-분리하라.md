# 유지보수와 리팩토링
## EP 6. 관심사를 모듈로 분리하라

> 모듈 간 결합을 느슨하게 하기 위해 큰 모듈은 삼가한다.

과도한 기능이 구현되어 있고 그 주위 코드도 클래스의 구현 세부를 잘 알고 있는 경우 단단히 결합된(tightly coupled) 클래스가 만들어 진 것이다. 관심사를 적절하게 분리하지 못했기 때문이다.


### 두가지 원칙
1. 결합은 소스 코드의 클래스 수준에서 일어난다. 2~5의 가이드라인을 모두 준수하더라도 메서드의 조합(combination)이 다른 클래스와 강한 결합을 유발할 수 있다.
2. 결합의 강약은 정도의 차이이다. 유지보수에 어떤 문제가 생길지는 클래스의 '크기'와 '호출 횟수'에 따라 달라진다. 따라서 단단히 결합된 어떤 클래스를 더 자주 호출할수록 그 클래스의 크기는 더 작아야한다.

클래스를 작게 하면 클래스 간 결합을 바로 느슨하게 할 수 있고, 느슨하게 결합하면 차후 어떤 변경도 수용할 수 있도록 클래스 수준의 설계를 유연하게 할 수있다.


### 작고 느슨한 결합의 장점
* 독립적으로 작업할 수 있다.
* 코드베이스 분석이 쉽다.


### 세가지 가이드라인
1. 클래스를 나누어 관심사를 분리한다.(한 클래스에 몰아넣지 말자)
2. 특정 구현부는 인터페이스 안에 숨긴다.(높은 수준에서 캡슐화하면 결합도를 낮출 수있다.)
3. 커스텀 코드를 서드파티 라이브러리, 프레임워크로 대체한다.

<br>

1. 코드 재사용이 가능한 한 여러 곳에서 호출되는 메서드를 만들라는 소리가 아니다. 상속 메커니즘을 응용하거나 구현부를 인터페이스 안에 감추면 느슨하게 결합한 채 코드 재사용을 유도 할 수있다.
2. 적은 코드로 많은 문제를 해결하기 위해 제네릭한 코드를 작성하고자 단단히 결합된 코드베이스를 만들 필요는 없다.
3. 인터페이스는 적어도 2개 이상의 클래스가 구현하는 것이 좋다. 단지 제한하기 위해 두는거라면 클래스를 나누는 방안을 고려해라.