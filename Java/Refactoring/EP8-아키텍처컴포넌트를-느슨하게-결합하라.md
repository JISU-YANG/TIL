# 유지보수와 리팩토링
## EP 8. 아키텍처 컴포넌트의 균형을 잡아라

> 최상위 수준의 컴포넌트 개수와 상대적 크기를 균형 잡는다.



### 소프트웨어 아키텍처 균형의 필요성
* 유지보수를 하기 쉽다.
* 코드를 찾고 분석하기 쉽다
* 유지보수로 인한 영향을 따로 떼어놓을 수 있다
* 유지보수 책임을 분담할 수 있다.


### 컴퓨넌트 균형을 잡는 두 가지 원칙
1. 최상위 수준의 시스템 컴포넌트는 9개가 가장 좋고, 6~12개 사이로 하는 편이 좋다.
2. 컴포넌트 크기(소스 코드량)는 대체로 비슷하게 맞춘다.


### 가이드
* 기능 또는 기술에 따라 시스템을 분류할 것인지 올바르게 개념을 정립할 의무가 있다.
* 일관성이 결여된 아키텍처는 나쁜 아키텍처이다. 공식화하여 통제보다는 경계선을 긋고 팀원들이 공감해야한다.


### 의견
- Q. 컴포넌트 균형은 엉망이지만 아무 문제 없다.  
  A. 유지보수 업무는 매우 피로해진다. 비일관성(inconsistency)은 예측 가능성(predictability)의 적으로, 예기치 못한 효과를 자아낸다. 테스트성과 유연성도 떨어진다.
- Q. 너무 꼬여 있어서 컴포넌트 균형이 깨진 상태다.  
  A. 관심사가 제대로 분리되지 않았다는 방증. 순환 의존성(circular dependency)을 바로잡는 식으로 컴포넌트 의존 관계를 서둘러 바로잡아야 한다.
